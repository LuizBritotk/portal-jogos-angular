import{e as w,h as y}from"./chunk-NW3WTNSN.js";import{a as R}from"./chunk-K7TJ3M27.js";import"./chunk-YFMEMATH.js";import{k as M,l as k,m as S}from"./chunk-IU3TBWNV.js";import{Qa as r,Va as h,_a as O,db as p,fa as u,ga as m,jb as b,kb as l,mb as C,nb as a,ob as s,qb as f,rb as _,sb as g,wb as c,xb as P,yb as v,zb as x}from"./chunk-SJU3657H.js";function F(e,n){if(e&1){let t=f();a(0,"li")(1,"button",9),_("click",function(){let i=u(t).$implicit,d=g(2);return m(d.iniciarJogo(i))}),c(2),s()()}if(e&2){let t=n.$implicit;r(2),v(" ",t," ")}}function j(e,n){if(e&1&&(a(0,"section",4)(1,"button",5),c(2," + Cadastrar nova pergunta "),s(),a(3,"h2",6),c(4,"Escolha a categoria"),s(),a(5,"ul",7),p(6,F,3,1,"li",8),s()()),e&2){let t=g();r(6),l("ngForOf",t.categorias)}}function E(e,n){if(e&1){let t=f();a(0,"li")(1,"input",15),_("change",function(){let i=u(t).index,d=g(2);return m(d.selecionarResposta(i))}),s(),a(2,"div",16),_("click",function(){let i=u(t).index,d=g(2);return m(d.selecionarResposta(i))})("keydown.enter",function(){let i=u(t).index,d=g(2);return m(d.selecionarResposta(i))}),c(3),s()()}if(e&2){let t=n.$implicit,o=n.index,i=g(2);C("correta",i.jogoFinalizado&&t.correta)("errada",i.jogoFinalizado&&i.respostaSelecionada===o&&!t.correta),b("data-selecionada",i.respostaSelecionada===o?"true":null),r(),l("id","resp-"+o)("value",o)("checked",i.respostaSelecionada===o),r(),b("aria-checked",i.respostaSelecionada===o),r(),v(" ",t.texto," ")}}function z(e,n){if(e&1){let t=f();a(0,"section",10)(1,"div",11)(2,"div",6),c(3),s(),a(4,"ul",12),p(5,E,4,10,"li",13),s(),a(6,"button",14),_("click",function(){u(t);let i=g();return m(i.proximaPergunta())}),c(7),s()()()}if(e&2){let t=g();r(3),P(t.perguntas[t.perguntaAtual].enunciado),r(2),l("ngForOf",t.perguntas[t.perguntaAtual].respostas),r(),l("disabled",t.respostaSelecionada===null),r(),v(" ",t.perguntaAtual+1<t.perguntas.length?"Pr\xF3ximo":"Finalizar"," ")}}function T(e,n){e&1&&(a(0,"span",29),c(1,"\u2714"),s())}function V(e,n){e&1&&(a(0,"span",30),c(1,"\u2718"),s())}function U(e,n){if(e&1&&(a(0,"div",26)(1,"div"),c(2),s(),a(3,"div"),c(4),p(5,T,2,0,"span",27)(6,V,2,0,"span",28),s()()),e&2){let t=n.$implicit,o=n.index,i=g(2);C("correta",i.respostasUsuario[o]===t.respostaCorretaIndex)("errada",i.respostasUsuario[o]!==t.respostaCorretaIndex),r(2),x("Pergunta ",o+1,": ",t.enunciado,""),r(2),v(" Sua resposta: ",t.respostas[i.respostasUsuario[o]].texto||"Nenhuma"," "),r(),l("ngIf",i.respostasUsuario[o]===t.respostaCorretaIndex),r(),l("ngIf",i.respostasUsuario[o]!==t.respostaCorretaIndex)}}function A(e,n){if(e&1&&(a(0,"li"),c(1),s()),e&2){let t=n.$implicit;r(),x(" ",t.nome," - ",t.pontos," pts ")}}function N(e,n){if(e&1&&(a(0,"div",22)(1,"div",23),c(2),s(),a(3,"ul",24),p(4,A,2,2,"li",8),s()()),e&2){let t=n.$implicit;r(2),P(t.categoria),r(2),l("ngForOf",t.top10)}}function $(e,n){if(e&1&&(a(0,"li"),c(1),s()),e&2){let t=n.$implicit;r(),x(" ",t.nome," - ",t.pontos," pts ")}}function J(e,n){if(e&1){let t=f();a(0,"section",17)(1,"h2",6),c(2,"Resultado Final"),s(),p(3,U,7,9,"div",18),a(4,"h3",19),c(5,"Ranking (Fake)"),s(),a(6,"div",20),p(7,N,5,2,"div",21),a(8,"div",22)(9,"div",23),c(10,"Ranking Geral"),s(),a(11,"ul",24),p(12,$,2,2,"li",8),s()()(),a(13,"button",25),_("click",function(){u(t);let i=g();return m(i.reiniciarJogo())}),c(14,"Reiniciar"),s()()}if(e&2){let t=g();r(3),l("ngForOf",t.perguntas),r(4),l("ngForOf",t.rankingsPorCategoria),r(5),l("ngForOf",t.rankingGeral.top10)}}var I=class e{constructor(n){this.perguntaService=n}categorias=[];jogoIniciado=!1;jogoFinalizado=!1;perguntas=[];perguntaAtual=0;respostaSelecionada=null;respostasUsuario=[];rankingsPorCategoria=[];rankingGeral;ngOnInit(){this.categorias=this.perguntaService.obterCategorias(),this.perguntaService.obterRankingsPorCategoria().subscribe(n=>{this.rankingsPorCategoria=n}),this.perguntaService.obterRankingGeral().subscribe(n=>{this.rankingGeral=n})}iniciarJogo(n){this.jogoIniciado=!0,this.jogoFinalizado=!1,this.perguntaAtual=0,this.respostaSelecionada=null,this.respostasUsuario=[],this.perguntaService.carregarPerguntasPorCategoria(n).subscribe(t=>{this.perguntas=t})}selecionarResposta(n){this.respostaSelecionada=n}proximaPergunta(){this.respostaSelecionada!==null&&(this.respostasUsuario[this.perguntaAtual]=this.respostaSelecionada,this.respostaSelecionada=null,this.estaNaUltimaPergunta()?this.finalizarJogo():this.perguntaAtual++)}finalizarJogo(){this.jogoFinalizado=!0}reiniciarJogo(){this.jogoIniciado=!1,this.jogoFinalizado=!1,this.perguntaAtual=0,this.respostaSelecionada=null,this.respostasUsuario=[]}estaNaUltimaPergunta(){return this.perguntaAtual+1>=this.perguntas.length}static \u0275fac=function(t){return new(t||e)(h(R))};static \u0275cmp=O({type:e,selectors:[["app-pergunta-resposta"]],decls:4,vars:3,consts:[[1,"pergunta-resposta","container"],["class","tela-inicial",4,"ngIf"],["class","jogo jogo-iniciado",4,"ngIf"],["class","resultado","data-jogo-finalizado","",4,"ngIf"],[1,"tela-inicial"],["routerLink","/jogos/pergunta-resposta/cadastro",1,"btn-cadastrar"],[1,"texto-pergunta"],[1,"lista-categorias"],[4,"ngFor","ngForOf"],[1,"botao-pergunta",3,"click"],[1,"jogo","jogo-iniciado"],[1,"pergunta"],[1,"respostas-pergunta"],[3,"correta","errada",4,"ngFor","ngForOf"],[1,"botao-pergunta",3,"click","disabled"],["type","radio","name","respostas","hidden","",3,"change","id","value","checked"],["tabindex","0","role","radio",1,"resposta-label",3,"click","keydown.enter"],["data-jogo-finalizado","",1,"resultado"],["class","item-resultado",3,"correta","errada",4,"ngFor","ngForOf"],[1,"titulo-ranking"],[1,"gabarito-final"],["class","bloco-gabarito",4,"ngFor","ngForOf"],[1,"bloco-gabarito"],[1,"titulo-gabarito"],[1,"lista-respostas"],[1,"botao-reiniciar",3,"click"],[1,"item-resultado"],["class","correta",4,"ngIf"],["class","errada",4,"ngIf"],[1,"correta"],[1,"errada"]],template:function(t,o){t&1&&(a(0,"main",0),p(1,j,7,1,"section",1)(2,z,8,4,"section",2)(3,J,15,3,"section",3),s()),t&2&&(r(),l("ngIf",!o.jogoIniciado),r(),l("ngIf",o.jogoIniciado&&!o.jogoFinalizado),r(),l("ngIf",o.jogoFinalizado))},dependencies:[S,M,k,y,w],styles:['body[_ngcontent-%COMP%]{margin:0;padding:0 5vw;width:100%;min-height:100vh;font-family:var(--font-family-sans);overflow-x:hidden;display:flex;justify-content:center;align-items:center;background:var(--gradiente-fundo);position:relative}body[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;z-index:-1;background-repeat:no-repeat;background-size:cover;background-attachment:fixed;background-position:center;transition:var(--transition-medium)}@media (max-width: 980px),(max-height: 580px){body[_ngcontent-%COMP%]{padding:60px 20px}}.botao[_ngcontent-%COMP%]{background:var(--btn-fundo);color:var(--btn-texto);border-radius:var(--radius-md);padding:.6rem 1.2rem;font-weight:var(--font-weight-semibold);font-size:.95rem;border:1px solid var(--cor-borda);box-shadow:var(--sombra-suave);transition:background var(--transition-medium)}.botao[_ngcontent-%COMP%]:hover{background:var(--btn-fundo-hover)}.botao[_ngcontent-%COMP%]:active{transform:scale(.97)}.tela-inicial[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:55vh;color:var(--btn-texto);text-align:center;padding:var(--spacing-md)}.tela-inicial[_ngcontent-%COMP%]   .texto-pergunta[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:var(--font-weight-bold);margin-bottom:var(--spacing-xl)}.tela-inicial[_ngcontent-%COMP%]   .lista-categorias[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;gap:var(--spacing-md);flex-wrap:wrap;justify-content:center}.tela-inicial[_ngcontent-%COMP%]   .lista-categorias[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0}.tela-inicial[_ngcontent-%COMP%]   .lista-categorias[_ngcontent-%COMP%]   button.botao-pergunta[_ngcontent-%COMP%]{background-color:var(--cor-primaria);border:1px solid var(--cor-borda);font-weight:600;font-size:1rem;padding:.75rem 1.5rem;border-radius:var(--radius-md);cursor:pointer;transition:background-color .3s}.tela-inicial[_ngcontent-%COMP%]   .lista-categorias[_ngcontent-%COMP%]   button.botao-pergunta[_ngcontent-%COMP%]:hover{background-color:var(--btn-fundo-hover)}.tela-inicial[_ngcontent-%COMP%]   .lista-categorias[_ngcontent-%COMP%]   button.botao-pergunta[_ngcontent-%COMP%]:active{transform:scale(.97)}.btn-cadastrar[_ngcontent-%COMP%]{display:block;margin:0 auto var(--spacing-lg) auto;padding:.75rem 1.5rem;background-color:var(--cor-primaria);font-weight:600;border:1px solid var(--cor-borda);border-radius:var(--radius-md);cursor:pointer;transition:background-color .3s}.btn-cadastrar[_ngcontent-%COMP%]:hover{background-color:var(--btn-fundo-hover)}.btn-cadastrar[_ngcontent-%COMP%]:active{transform:scale(.98)}button[_ngcontent-%COMP%]{font-family:var(--font-family-sans)}.pergunta-resposta.container[_ngcontent-%COMP%]{width:100%;max-width:540px;margin:6vh auto;padding:var(--spacing-xl);border-radius:var(--radius-lg);background-color:var(--cor-formulario);box-shadow:var(--sombra-forte);border:1px solid var(--cor-borda)}@media (max-width: 980px),(max-height: 580px){.pergunta-resposta.container[_ngcontent-%COMP%]{max-width:100%;margin:auto;padding:var(--spacing-md)}}.pergunta-resposta.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.pergunta-resposta.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:var(--font-weight-semibold);color:var(--cor-label)}.pergunta-resposta.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .pergunta-resposta.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .pergunta-resposta.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:var(--spacing-sm);font-size:.95rem;border:1px solid var(--cor-borda);border-radius:var(--radius-sm);background-color:var(--cor-fundo);color:var(--cor-texto-primario)}.pergunta-resposta.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .pergunta-resposta.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .pergunta-resposta.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:2px solid var(--cor-secundaria)}.texto-pergunta[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:var(--font-weight-semibold);text-align:center;color:var(--cor-texto-primario);margin-bottom:var(--spacing-md)}.respostas-pergunta[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.botao-pergunta[_ngcontent-%COMP%]{width:100%;padding:.8rem 1.25rem;font-size:1rem;font-weight:700;background-color:var(--cor-primaria);color:var(--btn-texto);border:1px solid var(--cor-borda);border-radius:var(--radius-sm);cursor:pointer;transition:background-color .3s}.respostas-pergunta[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.botao-pergunta[_ngcontent-%COMP%]:hover{background-color:var(--btn-fundo-hover)}.respostas-pergunta[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.botao-pergunta[_ngcontent-%COMP%]:active{transform:scale(.98)}.respostas-pergunta[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.botao-pergunta[_ngcontent-%COMP%]:focus{outline:2px solid var(--cor-secundaria)}']})};export{I as PerguntaRespostaComponent};
