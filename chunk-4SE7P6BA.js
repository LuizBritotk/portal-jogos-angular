import{a as I,c as B,e as T,k as F,l as z,m as L,n as N,p as W}from"./chunk-PJ4NG6C3.js";import{j as E,k as S,l as k,m as D}from"./chunk-ALSOUJAH.js";import{$a as O,Cb as g,Db as V,Eb as v,Fb as y,Gb as M,Hb as x,Ib as P,Lb as J,Ra as d,eb as b,fa as _,ga as p,kb as j,lb as h,mb as w,pb as c,qb as a,ub as f,vb as C,wb as m}from"./chunk-WXL45R7I.js";var X=r=>({selecionado:r});function R(r,n){if(r&1){let o=f();c(0,"div",7)(1,"div",8),g(2,"Jogador 2"),a(),c(3,"input",19),P("ngModelChange",function(t){_(o);let i=m(2);return x(i.jogador2,t)||(i.jogador2=t),p(t)}),a()()}if(r&2){let o=m(2);d(3),M("ngModel",o.jogador2)}}function Q(r,n){if(r&1){let o=f();c(0,"div",7)(1,"div",8),g(2,"N\xEDvel do Bot"),a(),c(3,"select",20),P("ngModelChange",function(t){_(o);let i=m(2);return x(i.nivelBot,t)||(i.nivelBot=t),p(t)}),c(4,"option",21),g(5,"F\xE1cil"),a(),c(6,"option",22),g(7,"M\xE9dio"),a(),c(8,"option",23),g(9,"Dif\xEDcil"),a()()()}if(r&2){let o=m(2);d(3),M("ngModel",o.nivelBot)}}function K(r,n){if(r&1){let o=f();c(0,"button",24),C("click",function(){let t=_(o).$implicit,i=m(2);return p(i.tamanho=t)}),g(1),a()}if(r&2){let o=n.$implicit,e=m(2);h("ngClass",J(4,X,e.tamanho===o)),j("aria-pressed",e.tamanho===o),d(),y(" ",e.Math.sqrt(o)," x ",e.Math.sqrt(o)," ")}}function G(r,n){if(r&1){let o=f();c(0,"div",6)(1,"div",7)(2,"div",8),g(3,"Jogador 1"),a(),c(4,"input",9),P("ngModelChange",function(t){_(o);let i=m();return x(i.jogador1,t)||(i.jogador1=t),p(t)}),a()(),c(5,"div",7)(6,"div",8),g(7,"Modo de jogo"),a(),c(8,"select",10),P("ngModelChange",function(t){_(o);let i=m();return x(i.modoJogo,t)||(i.modoJogo=t),p(t)}),c(9,"option",11),g(10,"Player vs Player"),a(),c(11,"option",12),g(12,"Player vs Bot"),a()()(),b(13,R,4,1,"div",13)(14,Q,10,1,"div",13),c(15,"fieldset",14)(16,"legend",8),g(17,"Tamanho do tabuleiro"),a(),c(18,"div",15),b(19,K,2,6,"button",16),a()(),c(20,"div",17)(21,"button",18),C("click",function(){_(o);let t=m();return p(t.iniciarJogo())}),g(22,"Come\xE7ar"),a()()()}if(r&2){let o=m();d(4),M("ngModel",o.jogador1),d(4),M("ngModel",o.modoJogo),d(5),h("ngIf",o.modoJogo==="pvp"),d(),h("ngIf",o.modoJogo==="bot"),d(5),h("ngForOf",o.opcoesQuadrados)}}function H(r,n){if(r&1&&(c(0,"h2"),g(1),a()),r&2){let o=m(2);d(),v("Vez de: ",o.jogadorAtual==="O"?o.jogador1:o.jogador2,"")}}function U(r,n){if(r&1&&(c(0,"h2"),g(1),a()),r&2){let o=m(2);d(),v("\u{1F389} Vit\xF3ria de ",o.vencedor,"!")}}function Y(r,n){r&1&&(c(0,"h2"),g(1,"\u{1F91D} Empate!"),a())}function Z(r,n){if(r&1){let o=f();c(0,"button",34),C("click",function(){let t=_(o).index,i=m(2);return p(i.jogar(t))}),g(1),a()}if(r&2){let o=n.$implicit,e=m(2);h("disabled",o!==""||e.vencedor),d(),v(" ",o," ")}}function $(r,n){if(r&1){let o=f();c(0,"section",25)(1,"div",26),b(2,H,2,1,"h2",27)(3,U,2,1,"h2",27)(4,Y,2,0,"h2",27),a(),c(5,"div",28),b(6,Z,2,2,"button",29),a(),c(7,"div",30)(8,"p")(9,"strong"),g(10),a(),g(11),a(),c(12,"p")(13,"strong"),g(14),a(),g(15),a()(),c(16,"div",31)(17,"button",32),C("click",function(){_(o);let t=m();return p(t.iniciarJogo())}),g(18,"Reiniciar Partida"),a(),c(19,"button",33),C("click",function(){_(o);let t=m();return p(t.reiniciar())}),g(20,"Resetar Jogo"),a()()()}if(r&2){let o=m();d(2),h("ngIf",!o.vencedor),d(),h("ngIf",o.vencedor&&o.vencedor!=="Empate"),d(),h("ngIf",o.vencedor==="Empate"),d(),w("grid-template-columns","repeat("+o.lado+", auto)")("grid-template-rows","repeat("+o.lado+", auto)"),h("ngClass","tamanho-"+o.lado),d(),h("ngForOf",o.tabuleiro),d(4),v("",o.jogador1,":"),d(),v(" ",o.pontosJogador1," ponto(s)"),d(3),v("",o.jogador2,":"),d(),v(" ",o.pontosJogador2," ponto(s)")}}function oo(r,n){if(r&1){let o=f();c(0,"div",35)(1,"div",36)(2,"h2",37),g(3,"Aten\xE7\xE3o"),a(),c(4,"p",38),g(5),a(),c(6,"button",39),C("click",function(){_(o);let t=m();return p(t.fecharModal())}),g(7,"OK"),a()()()}if(r&2){let o=m();d(5),V(o.mensagemModal)}}var q=class r{jogador1="";jogador2="";modoJogo="pvp";nivelBot="facil";tamanho=9;opcoesQuadrados=[9,16,25,36,49,64];exibirModal=!1;mensagemModal="";jogoIniciado=!1;tabuleiro=[];jogadorAtual="O";lado=3;vencedor=null;pontosJogador1=0;pontosJogador2=0;get Math(){return Math}abrirModal(n){this.mensagemModal=n,this.exibirModal=!0}fecharModal(){this.exibirModal=!1}iniciarJogo(){if(!this.jogador1.trim()||this.modoJogo==="pvp"&&!this.jogador2.trim()){this.abrirModal("Preencha todos os nomes dos jogadores.");return}this.modoJogo==="bot"&&(this.jogador2="Bot"),this.lado=Math.sqrt(this.tamanho),this.tabuleiro=Array(this.tamanho).fill(""),this.jogoIniciado=!0,this.jogadorAtual="O",this.vencedor=null,localStorage.setItem("jogador1",this.jogador1),localStorage.setItem("jogador2",this.jogador2),localStorage.setItem("tamanho",this.tamanho.toString())}jogar(n){if(!(this.tabuleiro[n]||this.vencedor)){if(this.tabuleiro[n]=this.jogadorAtual,this.verificarVencedor()){this.vencedor=this.jogadorAtual==="O"?this.jogador1:this.jogador2,this.atualizarPontos(this.vencedor);return}if(this.tabuleiro.every(o=>o!=="")){this.vencedor="Empate";return}this.jogadorAtual=this.jogadorAtual==="O"?"X":"O",this.modoJogo==="bot"&&this.jogadorAtual==="X"&&setTimeout(()=>this.jogadaBot(),300)}}jogadaBot(){if(!this.vencedor)switch(this.nivelBot){case"facil":this.jogadaBotFacil();break;case"medio":this.jogadaBotMedio();break;case"dificil":this.jogadaBotDificil();break;default:this.jogadaBotFacil()}}jogadaBotFacil(){let n=this.tabuleiro.map((e,t)=>e===""?t:-1).filter(e=>e!==-1);if(n.length===0)return;let o=n[Math.floor(Math.random()*n.length)];this.jogar(o)}jogadaBotMedio(){let n=this.encontrarJogadaVitoria("O");if(n!==-1){this.jogar(n);return}this.jogadaBotFacil()}jogadaBotDificil(){let n=this.minimax(this.tabuleiro,"X").indice;this.jogar(n)}atualizarPontos(n){n===this.jogador1?this.pontosJogador1++:n===this.jogador2&&this.pontosJogador2++}encontrarJogadaVitoria(n){for(let o=0;o<this.tabuleiro.length;o++)if(this.tabuleiro[o]===""){if(this.tabuleiro[o]=n,this.verificarVencedorParaJogador(n))return this.tabuleiro[o]="",o;this.tabuleiro[o]=""}return-1}verificarVencedorParaJogador(n){let o=[];for(let e=0;e<this.tamanho;e+=this.lado)o.push(this.tabuleiro.slice(e,e+this.lado));for(let e=0;e<this.lado;e++)o.push(this.tabuleiro.filter((t,i)=>i%this.lado===e));return o.push(this.tabuleiro.filter((e,t)=>t%(this.lado+1)===0)),o.push(this.tabuleiro.filter((e,t)=>t%(this.lado-1)===0&&t!==0&&t!==this.tamanho-1)),o.some(e=>e.every(t=>t===n))}verificarVencedor(){let o=this.jogadorAtual,e=(t,i)=>this.tabuleiro[i*this.lado+t];for(let t=0;t<this.lado;t++)for(let i=0;i<this.lado;i++)if(i<=this.lado-3&&Array.from({length:3},(s,l)=>e(i+l,t)).every(s=>s===o)||t<=this.lado-3&&Array.from({length:3},(s,l)=>e(i,t+l)).every(s=>s===o)||i<=this.lado-3&&t<=this.lado-3&&Array.from({length:3},(s,l)=>e(i+l,t+l)).every(s=>s===o)||i>=2&&t<=this.lado-3&&Array.from({length:3},(s,l)=>e(i-l,t+l)).every(s=>s===o))return!0;return!1}verificarVencedorParaJogadorMinimax(n,o){let e=Math.sqrt(n.length),t=n.length,i=[];for(let s=0;s<t;s+=e)i.push(n.slice(s,s+e));for(let s=0;s<e;s++)i.push(n.filter((l,u)=>u%e===s));return i.push(n.filter((s,l)=>l%(e+1)===0)),i.push(n.filter((s,l)=>l%(e-1)===0&&l!==0&&l!==t-1)),i.some(s=>s.every(l=>l===o))}minimax(n,o){let e="X",t="O",i=n.map((l,u)=>l===""?u:-1).filter(l=>l!==-1);if(this.verificarVencedorParaJogadorMinimax(n,e))return{pontuacao:10,indice:-1};if(this.verificarVencedorParaJogadorMinimax(n,t))return{pontuacao:-10,indice:-1};if(i.length===0)return{pontuacao:0,indice:-1};let s=i.map(l=>{let u=[...n];u[l]=o;let A=this.minimax(u,o===e?t:e);return{indice:l,pontuacao:A.pontuacao}});return o===e?s.reduce((l,u)=>u.pontuacao>l.pontuacao?u:l):s.reduce((l,u)=>u.pontuacao<l.pontuacao?u:l)}reiniciar(){this.jogoIniciado=!1,this.tabuleiro=[],this.vencedor=null,this.jogador1="",this.jogador2="",this.tamanho=9,this.modoJogo="pvp",this.nivelBot="facil",this.pontosJogador1=0,this.pontosJogador2=0}static \u0275fac=function(o){return new(o||r)};static \u0275cmp=O({type:r,selectors:[["app-jogo-da-velha"]],decls:8,vars:3,consts:[[1,"jogo-da-velha","container"],[1,"titulo","mb-3"],[1,"subtitulo","mb-4"],["class","config-form mb-5",4,"ngIf"],["class","jogo-container",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"config-form","mb-5"],[1,"form-group"],[1,"form-label"],["id","jogador1","type","text","name","jogador1","required","","placeholder","Nome do jogador 1","autocomplete","off",1,"input-text",3,"ngModelChange","ngModel"],["id","modoJogo","name","modoJogo","required","",1,"input-select",3,"ngModelChange","ngModel"],["value","pvp"],["value","bot"],["class","form-group",4,"ngIf"],[1,"tamanho-tabuleiro"],[1,"btn-group"],["type","button","class","botao-tamanho",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"botoes-form"],[1,"botao","botao-iniciar",3,"click"],["id","jogador2","type","text","name","jogador2","required","","placeholder","Nome do jogador 2","autocomplete","off",1,"input-text",3,"ngModelChange","ngModel"],["id","nivelBot","name","nivelBot","required","",1,"input-select",3,"ngModelChange","ngModel"],["value","facil"],["value","medio"],["value","dificil"],["type","button",1,"botao-tamanho",3,"click","ngClass"],[1,"jogo-container"],[1,"info-jogo"],[4,"ngIf"],[1,"tabuleiro",3,"ngClass"],["class","casa",3,"disabled","click",4,"ngFor","ngForOf"],[1,"pontos"],[1,"botoes-controle"],[1,"botao",3,"click"],[1,"botao","botao-resetar",3,"click"],[1,"casa",3,"click","disabled"],[1,"modal-overlay"],[1,"modal"],[1,"modal-titulo"],[1,"modal-mensagem"],[1,"botao","botao-fechar",3,"click"]],template:function(o,e){o&1&&(c(0,"main",0)(1,"h1",1),g(2,"Jogo da Velha"),a(),c(3,"p",2),g(4,"Configure seu jogo e divirta-se com um visual moderno!"),a(),b(5,G,23,5,"div",3)(6,$,21,13,"section",4)(7,oo,8,1,"div",5),a()),o&2&&(d(5),h("ngIf",!e.jogoIniciado),d(),h("ngIf",e.jogoIniciado),d(),h("ngIf",e.exibirModal))},dependencies:[D,E,S,k,W,z,L,I,F,B,N,T],styles:[".jogo-da-velha.container[_ngcontent-%COMP%]{max-width:760px;margin:var(--spacing-xxl) auto;padding:var(--spacing-xl);border-radius:var(--radius-lg);background-color:var(--cor-fundo-card);box-shadow:var(--sombra-forte);border:1px solid var(--cor-borda)}.jogo-da-velha.container[_ngcontent-%COMP%]   h1.titulo[_ngcontent-%COMP%]{font-size:2rem;font-weight:var(--font-weight-bold);margin-bottom:var(--spacing-sm);text-align:center;color:var(--cor-texto-primario)}.jogo-da-velha.container[_ngcontent-%COMP%]   .subtitulo[_ngcontent-%COMP%]{font-size:1rem;color:var(--cor-texto-secundario);text-align:center;margin-bottom:var(--spacing-md)}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-lg)}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xs);font-size:.875rem;font-weight:var(--font-weight-semibold);color:var(--cor-label)}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%], .jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-select[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--cor-borda);border-radius:var(--radius-md);background-color:var(--cor-fundo-secundario);color:var(--cor-texto-primario);font-size:1rem;transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]:focus, .jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-select[_ngcontent-%COMP%]:focus{border-color:var(--cor-secundaria);box-shadow:0 0 0 3px #1fbed24d;outline:none}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .tamanho-tabuleiro[_ngcontent-%COMP%]{margin-top:var(--spacing-sm)}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .tamanho-tabuleiro[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xs);font-weight:var(--font-weight-semibold);font-size:.875rem;color:var(--cor-label)}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .tamanho-tabuleiro[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm)}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .tamanho-tabuleiro[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .botao-tamanho[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-sm);border-radius:var(--radius-sm);font-size:.875rem;font-weight:var(--font-weight-semibold);background-color:transparent;border:1px solid var(--cor-borda);color:var(--cor-texto-primario);cursor:pointer;transition:background-color var(--transition-fast),transform var(--transition-fast)}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .tamanho-tabuleiro[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .botao-tamanho.selecionado[_ngcontent-%COMP%]{background-color:var(--cor-primaria);color:var(--btn-texto)}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .tamanho-tabuleiro[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .botao-tamanho[_ngcontent-%COMP%]:hover{background-color:var(--btn-fundo-hover)}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .botoes-form[_ngcontent-%COMP%]{margin-top:var(--spacing-lg);display:flex;justify-content:flex-end}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .botoes-form[_ngcontent-%COMP%]   .botao-iniciar[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-lg);background-color:var(--btn-fundo);color:var(--btn-texto);font-size:1rem;font-weight:var(--font-weight-semibold);border:none;border-radius:var(--radius-md);cursor:pointer;transition:background-color var(--transition-fast),transform var(--transition-fast)}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .botoes-form[_ngcontent-%COMP%]   .botao-iniciar[_ngcontent-%COMP%]:hover{background-color:var(--btn-fundo-hover)}.jogo-da-velha.container[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]   .botoes-form[_ngcontent-%COMP%]   .botao-iniciar[_ngcontent-%COMP%]:active{transform:scale(.98)}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-lg);margin-top:var(--spacing-xl)}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]   .info-jogo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:var(--font-weight-semibold);color:var(--cor-texto-primario);text-align:center}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]   .tabuleiro[_ngcontent-%COMP%]{display:grid;gap:var(--spacing-xs);margin-top:var(--spacing-sm)}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]   .tabuleiro[_ngcontent-%COMP%]   .casa[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.5rem;font-weight:var(--font-weight-bold);color:var(--cor-texto-primario);background-color:var(--cor-fundo-secundario);border:1px solid var(--cor-borda);border-radius:var(--radius-sm);cursor:pointer;transition:background-color var(--transition-fast)}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]   .tabuleiro[_ngcontent-%COMP%]   .casa[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--btn-fundo-hover)}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]   .tabuleiro[_ngcontent-%COMP%]   .casa[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]   .pontos[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-xl);font-size:.95rem;font-weight:var(--font-weight-semibold);color:var(--cor-texto-secundario)}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]   .botoes-controle[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md)}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]   .botoes-controle[_ngcontent-%COMP%]   .botao[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md);font-size:.95rem;font-weight:var(--font-weight-semibold);background-color:var(--btn-fundo);color:var(--btn-texto);border:none;border-radius:var(--radius-md);cursor:pointer;transition:background-color var(--transition-fast),transform var(--transition-fast)}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]   .botoes-controle[_ngcontent-%COMP%]   .botao[_ngcontent-%COMP%]:hover{background-color:var(--btn-fundo-hover)}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]   .botoes-controle[_ngcontent-%COMP%]   .botao[_ngcontent-%COMP%]:active{transform:scale(.98)}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]   .botoes-controle[_ngcontent-%COMP%]   .botao.botao-resetar[_ngcontent-%COMP%]{background-color:var(--cor-aviso);color:var(--cor-texto-claro)}.jogo-da-velha.container[_ngcontent-%COMP%]   .jogo-container[_ngcontent-%COMP%]   .botoes-controle[_ngcontent-%COMP%]   .botao.botao-resetar[_ngcontent-%COMP%]:hover{background-color:var(--cor-aviso-hover)}"]})};export{q as JogoDaVelhaComponent};
