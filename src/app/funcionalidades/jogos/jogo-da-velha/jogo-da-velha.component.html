<section class="jogo-da-velha layout__container">
  <h1 class="titulo">Jogo da Velha</h1>
  <p class="subtitulo">Configure seu jogo e divirta-se com um visual moderno!</p>

  <!-- Formul√°rio -->
  <form *ngIf="!jogoIniciado" class="config-form" (ngSubmit)="iniciarJogo()">
    <label>
      Jogador 1:
      <input type="text" [(ngModel)]="jogador1" name="jogador1" required />
    </label>

    <label>
      Modo de jogo:
      <select [(ngModel)]="modoJogo" name="modoJogo" required>
        <option value="pvp">Player vs Player</option>
        <option value="bot">Player vs Bot</option>
      </select>
    </label>

    <label *ngIf="modoJogo === 'pvp'">
      Jogador 2:
      <input type="text" [(ngModel)]="jogador2" name="jogador2" required />
    </label>

    <label *ngIf="modoJogo === 'bot'">
      N√≠vel do Bot:
      <select [(ngModel)]="nivelBot" name="nivelBot" required>
        <option value="facil">F√°cil</option>
        <option value="medio">M√©dio</option>
        <option value="dificil">Dif√≠cil</option>
      </select>
    </label>

    <div class="tamanho-tabuleiro">
      <span>Tamanho:</span>
      <button
        type="button"
        *ngFor="let opcao of opcoesQuadrados"
        class="botao-tamanho"
        [ngClass]="{ selecionado: tamanho === opcao }"
        (click)="tamanho = opcao">
        {{ Math.sqrt(opcao) }}x{{ Math.sqrt(opcao) }}
      </button>
    </div>

    <button type="submit" class="botao-iniciar">Come√ßar</button>
  </form>

  <!-- Placar -->
  <div *ngIf="jogoIniciado" class="placar">
    <p>{{ jogador1 }}: {{ pontosJogador1 }} pts</p>
    <p>{{ jogador2 }}: {{ pontosJogador2 }} pts</p>
  </div>

  <!-- Jogo -->
  <div *ngIf="jogoIniciado" class="tabuleiro-container">
    <div class="vez">{{ jogadorAtual === 'O' ? jogador1 : jogador2 }} √© a vez!</div>

    <div class="tabuleiro" [style.gridTemplateColumns]="'repeat(' + lado + ', 1fr)'">
      <button
        *ngFor="let cell of tabuleiro; let i = index"
        class="casa"
        (click)="jogar(i)"
        [disabled]="cell || vencedor">
        {{ cell }}
      </button>
    </div>

    <button class="botao-reiniciar" (click)="reiniciar()">Reiniciar</button>
  </div>

  <!-- Modal de Vit√≥ria -->
  <div *ngIf="vencedor && vencedor !== 'Empate'" class="modal-vitoria">
    <div class="modal-conteudo">
      <div class="trofeu-3d">üèÜ</div>
      <h2>Vit√≥ria de {{ vencedor }}!</h2>
      <div class="fogos-light"></div>
      <button class="botao-reiniciar" (click)="reiniciar()">Jogar Novamente</button>
    </div>
  </div>
</section>
