
<main class="jogo-da-velha container">
  <h1 class="titulo mb-3">Jogo da Velha</h1>
  <p class="subtitulo mb-4">Configure seu jogo e divirta-se com um visual moderno!</p>

  <form *ngIf="!jogoIniciado" class="config-form mb-5" (ngSubmit)="iniciarJogo()">
    <div class="form-group">
      <label for="jogador1" class="form-label">Jogador 1</label>
      <input
        id="jogador1"
        type="text"
        [(ngModel)]="jogador1"
        name="jogador1"
        required
        class="input-text"
        placeholder="Nome do jogador 1"
        autocomplete="off"
      />
    </div>

    <div class="form-group">
      <label for="modoJogo" class="form-label">Modo de jogo</label>
      <select
        id="modoJogo"
        [(ngModel)]="modoJogo"
        name="modoJogo"
        required
        class="input-select"
      >
        <option value="pvp">Player vs Player</option>
        <option value="bot">Player vs Bot</option>
      </select>
    </div>

    <div *ngIf="modoJogo === 'pvp'" class="form-group">
      <label for="jogador2" class="form-label">Jogador 2</label>
      <input
        id="jogador2"
        type="text"
        [(ngModel)]="jogador2"
        name="jogador2"
        required
        class="input-text"
        placeholder="Nome do jogador 2"
        autocomplete="off"
      />
    </div>

    <div *ngIf="modoJogo === 'bot'" class="form-group">
      <label for="nivelBot" class="form-label">N√≠vel do Bot</label>
      <select
        id="nivelBot"
        [(ngModel)]="nivelBot"
        name="nivelBot"
        required
        class="input-select"
      >
        <option value="facil">F√°cil</option>
        <option value="medio">M√©dio</option>
        <option value="dificil">Dif√≠cil</option>
      </select>
    </div>

    <fieldset class="tamanho-tabuleiro">
      <legend class="form-label">Tamanho do tabuleiro</legend>
      <div class="btn-group">
        <button
          type="button"
          *ngFor="let opcao of opcoesQuadrados"
          class="botao-tamanho"
          [ngClass]="{ selecionado: tamanho === opcao }"
          (click)="tamanho = opcao"
          [attr.aria-pressed]="tamanho === opcao"
        >
          {{ Math.sqrt(opcao) }} x {{ Math.sqrt(opcao) }}
        </button>
      </div>
    </fieldset>

    <div class="botoes-form">
      <button type="submit" class="botao botao-iniciar">Come√ßar</button>
    </div>
  </form>

  <!-- TABULEIRO E CONTROLE DE JOGO -->
  <section *ngIf="jogoIniciado" class="jogo-container">
    <div class="info-jogo">
      <h2 *ngIf="!vencedor">Vez de: {{ jogadorAtual === 'O' ? jogador1 : jogador2 }}</h2>
      <h2 *ngIf="vencedor && vencedor !== 'Empate'">üéâ Vit√≥ria de {{ vencedor }}!</h2>
      <h2 *ngIf="vencedor === 'Empate'">ü§ù Empate!</h2>
    </div>

   <div
      class="tabuleiro"
      [ngClass]="'tamanho-' + lado"
      [style.gridTemplateColumns]="'repeat(' + lado + ', auto)'"
      [style.gridTemplateRows]="'repeat(' + lado + ', auto)'"
    >

      <button
        *ngFor="let celula of tabuleiro; index as i"
        class="casa"
        [disabled]="celula !== '' || vencedor"
        (click)="jogar(i)"
      >
        {{ celula }}
      </button>
    </div>

    <div class="pontos">
      <p><strong>{{ jogador1 }}:</strong> {{ pontosJogador1 }} ponto(s)</p>
      <p><strong>{{ jogador2 }}:</strong> {{ pontosJogador2 }} ponto(s)</p>
    </div>

    <div class="botoes-controle">
      <button class="botao" (click)="iniciarJogo()">Reiniciar Partida</button>
      <button class="botao botao-resetar" (click)="reiniciar()">Resetar Jogo</button>
    </div>
  </section>
</main>
