import{a as w,b as d,c as F,d as I,f as E,g as N,h as k,i as V,j as q,k as R,l as z,m as G,n as D,o as T,q as j}from"./chunk-PJ4NG6C3.js";import{a as A}from"./chunk-HGGFVOC5.js";import"./chunk-NWGYCC23.js";import{d as S}from"./chunk-QQMD7XL2.js";import{k as h,m as y}from"./chunk-ALSOUJAH.js";import{$a as M,Cb as a,Db as x,Ra as c,Wa as p,d as _,eb as u,fa as P,ga as O,lb as s,pb as o,qb as n,rb as l,ub as v,vb as C,wb as b,yb as f}from"./chunk-WXL45R7I.js";function J(i,r){if(i&1&&(o(0,"option",11),a(1),n()),i&2){let t=r.$implicit;s("value",t),c(),x(t)}}function K(i,r){if(i&1){let t=v();o(0,"div",12),l(1,"input",13),o(2,"div",14),l(3,"input",15),o(4,"div",16),C("click",function(){let m=P(t).index,g=b();return O(g.selecionarRespostaCorreta(m))}),a(5," Correta "),n()()()}if(i&2){let t=r.$implicit,e=r.index;c(),f("placeholder","Resposta ",e+1,""),s("formControl",t),c(2),f("id","resposta-",e,""),s("value",e)}}var B=class i{constructor(r,t,e){this.fb=r;this.perguntaService=t;this.router=e}form;categorias=["Tecnologia","Hist\xF3ria","Geografia","Ci\xEAncia","Esportes","Entretenimento"];ngOnInit(){this.form=this.fb.group({enunciado:["",d.required],categoria:["",d.required],respostas:this.fb.array([this.fb.control("",d.required),this.fb.control("",d.required),this.fb.control("",d.required),this.fb.control("",d.required)]),respostaCorretaIndex:[0,d.required]})}get respostas(){return this.form.get("respostas").controls}salvar(){return _(this,null,function*(){if(this.form.invalid)return;let{enunciado:r,categoria:t,respostas:e,respostaCorretaIndex:m}=this.form.value,g={enunciado:r,categoria:t,respostas:e.map(($,H)=>({texto:$,correta:H===m}))};yield this.perguntaService.adicionarPergunta(g),alert("Pergunta cadastrada com sucesso!"),this.form.reset(),this.form.patchValue({respostaCorretaIndex:0}),this.router.navigate(["/jogos/pergunta-resposta/inicio"])})}selecionarRespostaCorreta(r){this.form.patchValue({respostaCorretaIndex:r})}static \u0275fac=function(t){return new(t||i)(p(T),p(A),p(S))};static \u0275cmp=M({type:i,selectors:[["app-cadastro-pergunta"]],decls:19,vars:4,consts:[[1,"container-cadastro"],[3,"ngSubmit","formGroup"],["for","enunciado",1,"form-label"],["id","enunciado","formControlName","enunciado","type","text","required",""],["for","categoria",1,"form-label"],["id","categoria","formControlName","categoria","required",""],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"grupo-respostas"],["class","resposta-item",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[3,"value"],[1,"resposta-item"],["type","text",3,"formControl","placeholder"],[1,"radio-wrapper"],["type","radio","formControlName","respostaCorretaIndex","name","respostaCorretaIndex",3,"value","id"],[1,"radio-label",3,"click"]],template:function(t,e){t&1&&(o(0,"main",0)(1,"form",1),C("ngSubmit",function(){return e.salvar()}),o(2,"h2"),a(3,"Cadastrar Pergunta"),n(),o(4,"div",2),a(5,"Enunciado:"),n(),l(6,"input",3),o(7,"div",4),a(8,"Categoria:"),n(),o(9,"select",5)(10,"option",6),a(11,"Selecione..."),n(),u(12,J,2,2,"option",7),n(),o(13,"fieldset",8)(14,"legend"),a(15,"Respostas:"),n(),u(16,K,6,6,"div",9),n(),o(17,"button",10),a(18,"Salvar Pergunta"),n()()()),t&2&&(c(),s("formGroup",e.form),c(11),s("ngForOf",e.categorias),c(4),s("ngForOf",e.respostas),c(),s("disabled",e.form.invalid))},dependencies:[y,h,j,E,z,G,w,R,N,F,I,D,k,V,q],styles:[".container-cadastro[_ngcontent-%COMP%]{max-width:640px;margin:3rem auto;padding:2rem;background-color:var(--cor-formulario);border-radius:var(--radius-md);box-shadow:var(--sombra-forte);transition:all .3s ease}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:1.75rem;color:var(--cor-texto-primario);margin-bottom:1rem;border-bottom:2px solid var(--cor-borda);padding-bottom:.5rem}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.3rem;color:var(--cor-texto-primario);font-size:1rem}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid var(--cor-borda);border-radius:var(--radius-md);background-color:var(--cor-fundo-secundario);color:var(--cor-texto-primario);font-size:1rem;transition:border .2s ease,box-shadow .2s ease}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--cor-secundaria);box-shadow:0 0 0 3px #1fbed233}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .grupo-respostas[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .grupo-respostas[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;margin-bottom:.5rem;color:var(--cor-texto-primario)}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .grupo-respostas[_ngcontent-%COMP%]   .resposta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .grupo-respostas[_ngcontent-%COMP%]   .resposta-item[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .grupo-respostas[_ngcontent-%COMP%]   .resposta-item[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{transform:scale(1.2);accent-color:var(--cor-primaria)}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .grupo-respostas[_ngcontent-%COMP%]   .resposta-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;color:var(--cor-texto-primario)}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{padding:.75rem 1rem;font-weight:700;font-size:1rem;background-color:var(--cor-primaria);color:var(--btn-texto);border:none;border-radius:var(--radius-md);cursor:pointer;transition:background-color .3s ease}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:var(--btn-fundo-hover)}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.container-cadastro[_ngcontent-%COMP%]   .radio-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.4rem .75rem;background-color:var(--cor-fundo-secundario);border:1px solid var(--cor-borda);border-radius:var(--radius-sm);transition:background-color .3s,border-color .3s}.container-cadastro[_ngcontent-%COMP%]   .radio-wrapper[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{cursor:pointer;accent-color:var(--cor-secundaria)}.container-cadastro[_ngcontent-%COMP%]   .radio-wrapper[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]{cursor:pointer;font-size:.95rem;color:var(--cor-texto-primario);-webkit-user-select:none;user-select:none;font-weight:500;transition:color .3s}.container-cadastro[_ngcontent-%COMP%]   .radio-wrapper[_ngcontent-%COMP%]:hover{border-color:var(--cor-secundaria);background-color:#1fbed20d}@media (max-width: 480px){.container-cadastro[_ngcontent-%COMP%]{padding:1.25rem}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{gap:1rem}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .resposta-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.container-cadastro[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .resposta-item[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%}}"]})};export{B as CadastroPerguntaComponent};
